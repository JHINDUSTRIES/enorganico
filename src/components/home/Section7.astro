<section id="enorganico-our-coffees" class="s_pricelist_cafe o_colored_level pb104 o_cc o_cc2" data-oe-shape-data="{'shape':'html_builder/Bold/16','flip':[]}" data-snippet="s_pricelist_cafe" data-name="Lista de precios de café">
  <div class="container container_pricelist_cafe">
    <div class="row">
      <div class="s_pricelist_cafe_col col-lg-5 pt64 o_colored_level o_cc o_cc5 bg-transparent text-(--enorganico-secondary-color)!">
        <h6 class="mb-0">NUESTRO</h6>
        <h1 class="text-8xl! font-extrabold!">CAFE</h1>
        <h6 class="font-bold!">DE ORIGEN 100% COLOMBIANO</h6>
      </div>
    </div>
    <div class="row align-items-center">
      <div class="s_pricelist_cafe_col col-lg-4 pb-5 o_cc o_cc5 s_col_no_resize o_colored_level" style="background-color: rgba(28, 27, 24, 0);">
        <h3 class="h3-fs" style="color: var(--enorganico-secondary-color);">Maneras de saborear nuestro café</h3>
        <ul class="list-unstyled my-3">
          <li class="s_pricelist_cafe_item mb-4 text-o-color-2" data-name="Product" data-image="/web/image/1595-95eed0d4/imagen-20.webp">
            <p class="s_pricelist_cafe_item_title d-flex align-items-baseline fw-bold mb-0">Americano:</p>
            <p class="s_pricelist_cafe_item_title d-flex align-items-baseline mb-0">Suave, largo y equilibrado.</p>
          </li>
          <li class="s_pricelist_cafe_item mb-4 text-o-color-2" data-name="Product" data-image="/web/image/1596-8d667ec7/imagen-21.webp">
            <p class="s_pricelist_cafe_item_title d-flex align-items-baseline fw-bold mb-0">Black Coffee:</p>
            <p class="s_pricelist_cafe_item_title d-flex align-items-baseline mb-0">Puro, intenso y sin concesiones.</p>
          </li>
          <li class="s_pricelist_cafe_item mb-4 text-o-color-2" data-name="Product" data-image="/web/image/1599-db0d6955/imagen-22.webp">
            <p class="s_pricelist_cafe_item_title d-flex align-items-baseline fw-bold mb-0">Espresso / Double Espresso:</p>
            <p class="s_pricelist_cafe_item_title d-flex align-items-baseline mb-0">Concentrado, potente y aromático.</p>
          </li>
          <li class="s_pricelist_cafe_item mb-4 text-o-color-2" data-name="Product" data-image="/web/image/1601-50b7992b/imagen-23.webp">
            <p class="s_pricelist_cafe_item_title d-flex align-items-baseline fw-bold mb-0">Cappuccino:</p>
            <p class="s_pricelist_cafe_item_title d-flex align-items-baseline mb-0">Cremoso, balanceado y reconfortante.</p>
          </li>
          <li class="s_pricelist_cafe_item mb-4 text-o-color-2" data-name="Product" data-image="/web/image/1597-7fee589a/imagen-24.webp">
            <p class="s_pricelist_cafe_item_title d-flex align-items-baseline fw-bold mb-0">Macchiato:</p>
            <p class="s_pricelist_cafe_item_title d-flex align-items-baseline mb-0">Intenso con un toque de leche.</p>
          </li>
          <li class="s_pricelist_cafe_item mb-4 text-o-color-2" data-name="Product" data-image="/web/image/1598-fc4223d2/imagen-25.webp">
            <p class="s_pricelist_cafe_item_title d-flex align-items-baseline fw-bold mb-0">Latte Macchiato:</p>
            <p class="s_pricelist_cafe_item_title d-flex align-items-baseline mb-0">Leche caliente con carácter de café.</p>
          </li>
        </ul>
      </div>
      <div class="s_pricelist_cafe_col col-lg-4 d-lg-block o_snippet_mobile_invisible s_col_no_resize o_colored_level" data-invisible="1">
        <img class="img img-fluid d-block mx-auto" data-target-image-url="" src="/web/image/1595-95eed0d4/imagen-20.webp" alt="" loading="lazy" data-mimetype="image/png" />
      </div>
      <div class="s_pricelist_cafe_col col-lg-4 py-5 o_cc s_col_no_resize o_colored_level o_cc2">
        <ul class="list-unstyled my-3">
          <li class="s_pricelist_cafe_item mb-4 text-o-color-2" data-name="Product" data-image="/web/image/1604-3f2f513a/imagen-26.webp">
            <p class="s_pricelist_cafe_item_title d-flex align-items-baseline fw-bold mb-0">Coffee Latte:</p>
            <p class="s_pricelist_cafe_item_title d-flex align-items-baseline mb-0">Suave, cremoso y perfectamente armonioso.</p>
          </li>
          <li class="s_pricelist_cafe_item mb-4 text-o-color-2" data-name="Product" data-image="/web/image/1605-f7662698/imagen-27.webp">
            <p class="s_pricelist_cafe_item_title d-flex align-items-baseline fw-bold mb-0">Vanilla Coffee Latte:</p>
            <p class="s_pricelist_cafe_item_title d-flex align-items-baseline mb-0">Dulce y aromático y con notas de vainilla.</p>
          </li>
          <li class="s_pricelist_cafe_item mb-4 text-o-color-2" data-name="Product" data-image="/web/image/1600-e74f1d13/imagen-28.webp">
            <p class="s_pricelist_cafe_item_title d-flex align-items-baseline fw-bold mb-0">Cinnamon Coffee Latte:</p>
            <p class="s_pricelist_cafe_item_title d-flex align-items-baseline mb-0">Cálido, especiado y reconfortante.</p>
          </li>
          <li class="s_pricelist_cafe_item mb-4 text-o-color-2" data-name="Product" data-image="/web/image/1602-45335880/imagen-29.webp">
            <p class="s_pricelist_cafe_item_title d-flex align-items-baseline fw-bold mb-0">Pistachio Coffee Latte:</p>
            <p class="s_pricelist_cafe_item_title d-flex align-items-baseline mb-0">Fusión original y perfecta de café con crema de pistacho.</p>
          </li>
          <li class="s_pricelist_cafe_item mb-4 text-o-color-2" data-name="Product" data-image="/web/image/1606-43b07837/imagen-30.webp">
            <p class="s_pricelist_cafe_item_title d-flex align-items-baseline fw-bold mb-0">White/Black Mocha Coffee:</p>
            <p class="s_pricelist_cafe_item_title d-flex align-items-baseline mb-0">Carácter chocolatoso, intenso e irresistible.</p>
          </li>
          <li class="s_pricelist_cafe_item mb-4 text-o-color-2" data-name="Product" data-image="/web/image/1607-6e8f8196/imagen-31.webp">
            <p class="s_pricelist_cafe_item_title d-flex align-items-baseline fw-bold mb-0">Americano:</p>
            <p class="s_pricelist_cafe_item_title d-flex align-items-baseline mb-0">Caramel Macchiato : Dulce, cremoso y con notas de caramelo.</p>
          </li>
          <li class="s_pricelist_cafe_item mb-4 text-o-color-2" data-name="Product" data-image="/web/image/1603-5cc3ade8/imagen-32.webp">
            <p class="s_pricelist_cafe_item_title d-flex align-items-baseline fw-bold mb-0">Café Bombón:</p>
            <p class="s_pricelist_cafe_item_title d-flex align-items-baseline mb-0">Un clásico, dulce en capas perfectas.</p>
          </li>
        </ul>
      </div>
    </div>
  </div>
</section>

<script is:inline>
  (function () {
    "use strict";

    // Esperar a que Odoo cargue el DOM
    if (typeof $ === "undefined") {
      if (document.readyState === "loading") {
        document.addEventListener("DOMContentLoaded", init);
      } else {
        setTimeout(init, 1000);
      }
    } else {
      $(document).ready(init);
    }

    function init() {
      var section = document.getElementById("enorganico-our-coffees");
      if (!section) {
        setTimeout(init, 500);
        return;
      }

      var coffeeItems = section.querySelectorAll(".s_pricelist_cafe_item");
      var targetImage = section.querySelector("img[data-target-image-url]");

      if (!targetImage || coffeeItems.length === 0) {
        return;
      }

      // Variables de control
      var currentIndex = 0;
      var autoRotateInterval;
      var isUserInteracting = false;
      var rotationTime = 5000; // 5 segundos

      // Función para activar un item
      function activateItem(index) {
        // Remover clase active de todos
        for (var i = 0; i < coffeeItems.length; i++) {
          coffeeItems[i].classList.remove("active");
        }

        // Activar el item seleccionado
        if (coffeeItems[index]) {
          coffeeItems[index].classList.add("active");

          // Cambiar imagen
          var imageUrl = coffeeItems[index].getAttribute("data-image");
          if (imageUrl && imageUrl !== targetImage.src) {
            targetImage.style.opacity = "0.5";
            setTimeout(function () {
              targetImage.src = imageUrl;
              targetImage.style.opacity = "1";
            }, 300);
          }
        }

        currentIndex = index;
      }

      // Función para rotación automática
      function startAutoRotation() {
        if (autoRotateInterval) {
          clearInterval(autoRotateInterval);
        }

        if (!isUserInteracting) {
          autoRotateInterval = setInterval(function () {
            var newIndex;
            do {
              newIndex = Math.floor(Math.random() * coffeeItems.length);
            } while (newIndex === currentIndex && coffeeItems.length > 1);

            activateItem(newIndex);
          }, rotationTime);
        }
      }

      // Añadir eventos a los items
      for (var i = 0; i < coffeeItems.length; i++) {
        (function (index) {
          // Mouse enter
          coffeeItems[index].addEventListener("mouseenter", function () {
            isUserInteracting = true;
            clearInterval(autoRotateInterval);
            activateItem(index);
          });

          // Mouse leave
          coffeeItems[index].addEventListener("mouseleave", function () {
            isUserInteracting = false;
            setTimeout(startAutoRotation, 3000);
          });

          // Touch para móviles
          coffeeItems[index].addEventListener("touchstart", function (e) {
            e.preventDefault();
            isUserInteracting = true;
            clearInterval(autoRotateInterval);
            activateItem(index);
          });
        })(i);
      }

      // Inicializar
      setTimeout(function () {
        activateItem(0);
        startAutoRotation();
      }, 1500);

      // Limpiar al salir
      window.addEventListener("beforeunload", function () {
        if (autoRotateInterval) {
          clearInterval(autoRotateInterval);
        }
      });
    }
  })();
</script>
