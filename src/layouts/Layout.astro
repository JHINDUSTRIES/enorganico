---
// Sryles
import "../styles/main.scss";
import "../styles/global.css";

// Odoo Styles
// import "../styles/odoo-full-styles.css";

// Fonts
import "@fontsource/montserrat/400.css";
import "@fontsource/montserrat/700.css";
import "@fontsource/montserrat/900.css";

// Components
import Header from "../components/layout/Navbar.astro";
---

<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/png" href="../../public/logo_enorganico_transparent.png" />
    <meta name="generator" content={Astro.generator} />
    <title>Enorgánico - Preview Odoo</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Anton+SC&display=swap" rel="stylesheet" />
  </head>
  <body class="overflow-x-hidden">
    <header id="enorganico-header" class="fixed top-0 left-0 right-0 w-full h-[75px] z-10 flex justify-end items-center">
      <Header />
    </header>

    <main>
      <slot />
    </main>

    <!-- Green Sock animation platform -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

    <!-- ScrollTrigger Plugin -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <!-- CSS de Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />

    <!-- JS de Bootstrap (con Popper incluido) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Tailwindcss Plus for components -->
    <script src="https://cdn.jsdelivr.net/npm/@tailwindplus/elements@1" type="module"></script>

    <!-- Transformar rutas Odoo solo en desarrollo -->
    <script>
      if (window.location.hostname === "localhost") {
        document.addEventListener("DOMContentLoaded", () => {
          const BASE = "https://enorganico.odoo.com";

          // Imágenes
          document.querySelectorAll('img[src^="/web/"], img[src^="/shop/"]').forEach((img) => {
            img.src = BASE + img.getAttribute("src");
          });

          // Enlaces
          document.querySelectorAll('a[href^="/web/"], a[href^="/shop/"]').forEach((link) => {
            link.href = BASE + link.getAttribute("href");
          });
        });
      }
    </script>
  </body>
</html>
